# devops_test_task

Этот скрипт на Bash автоматически устанавливает и настраивает PostgreSQL на одном из двух удалённых серверов (Debian и CentOS/AlmaLinux).

Подготовка:

- Для теста я создал две виртуальные машины в VirtualBox: одну с Debian, вторую с AlmaLinux (CentOS).
На обеих установил пакет openssh-server для доступа по SSH

- По умолчанию VirtualBox использует NAT, но так как нужен доступ к серверу из локальной сети, то я  переключил сетевой адаптер виртуальной машины в режим "Мост" (Bridged Adapter)

- На каждой ВМ узнал IP-адрес командой:
```ip addr```

- Первым делом нужно, чтобы был доступ по SSH к обоим серверам под root с использованием приватного ключа. Для этого я указал конкретный ключ в скрипте. Для его генерации нужно выполнить:
```ssh-keygen -t ed25519 -f ~/.ssh/postgres_deploy_key```

- Для соднения на удалённых серверах должен быть добавлен публичный ключ в root пользователя, это можно сделать так:
```ssh -i ~/.ssh/postgres_deploy_key root@ip```

Запуск скрипта:

- Сделайте скрипт исполняемым:
```chmod +x main.sh```
- Запустите, передав IP или имена серверов через запятую (без пробелов):
```./main.sh 192.168.1.10,192.168.1.20```

Скрипт выведет прогресс установки и настройки.